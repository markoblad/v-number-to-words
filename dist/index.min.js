"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var mathjs=require("mathjs"),ZERO_TO_NINETEEN_MAP=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],TWENTY_TO_NINETY_MAP={20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety"},ILLIONS=["thousand","million","billion","trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion","decillion","undecillion","duodecillion","tredecillion","quattuordecillion","quindecillion","sexdecillion","septendecillion","octodecillion","novemdecillion","vigintillion","unvigintillion","dovigintillion","trevigintillion","quattuorvigintillion","quinvigintillion","sexvigintillion","septenvigintillion","octovigintillion","novemvigintillion","trigintillion","untrigintillion","dotrigintillion","tretrigintillion","quattuortrigintillion","quintrigintillion","sextrigintillion","septentrigintillion","octotrigintillion","novemtrigintillion"];function isBlank(i){return/^\s*$/.test(makeString(i))}function isNumeric(i){return!isNaN(parseFloat(i))&&isFinite(i)}function isString(i){return"string"==typeof i}function eachSlice(i,n,e){void 0===n&&(n=1);for(var t=0,o=i.length;t<o;t+=n)e(i.slice(t,t+n))}function last(i){return i?i[i.length-1]:void 0}function makeString(i){return null==i?"":""+i}function numberToNonExponentString(i){var n,e=(i||0).toString(),t=e.match(/e([\+\-]?)/);if(t){var o,r=t[0],l=e.split(r).slice(0,2),s=l[0],a=parseInt(l[1],10),u=s.split(".").slice(0,2),g="";o=u[0],g=(g=void 0===(n=u[1])?"":n).replace(/0+$/g,""),e="e-"===r?"0."+repeat("0",a-1)+o+g:("0"===o?"":o)+g+repeat("0",a-g.length)}return e}function parseBigOrZero(i){return mathjs.bignumber(isNumeric(i)?i:0)}function parseZeroPaddedInt(i){if(isBlank(i)||0===i||"0"===i||isBlank(i.toString().replace(/0/g,"")))return 0;var n=(i=i.toString()).search(/(?!0)/);return parseInt(i.slice(n,i.length),10)}function repeat(i,n){var e,t="";for(e=0;e<n;e++)t+=i;return t}function numberToWords(i){var n,e,t,o,a=[],r="",u="";return(o=(e="number"==typeof i?parseBigOrZero(i).toString().replace(/^\s+$/gm,""):mathjs.bignumber(makeString(i).replace(/^\s+|\s+$/gm,"").replace(/\$|\%|\,|\_/g,"")).toString()).match(/^\-/)?"negative ":"")&&(e=e.replace(/^\-/,"")),r=(t=numberToNonExponentString(e).split(".").slice(0,2))[0],n=t[1],[r,u=(u=void 0===n?"":n).replace(/0+$/g,"")].forEach(function(i,n){if(i&&0!==i.length){var r=1===n;if(r&&0<u.length&&a.push("and"),r||0!==parseZeroPaddedInt(i)){if(!r||0!==parseZeroPaddedInt(i)){var e=i.length%3,t=repeat("0",0==e?0:3-e);i=r?i+t:t+i;var l=0,s=Math.floor(i.length/3)-1;if(eachSlice(i.split(""),3,function(i){var n=parseZeroPaddedInt(i.join("")),e=Math.floor(n/100),t=Math.floor((n-100*e)/10),o=Math.floor(n-100*e-10*t);r&&1===u.length?(a.push(ZERO_TO_NINETEEN_MAP[e]),a.push("and"===a[a.length-2]&&"one"===last(a)?"tenth":"tenths")):r&&2===u.length?(e<2&&(0<e||0<t)?a.push(ZERO_TO_NINETEEN_MAP[10*e+t]):2<=e&&(a.push(TWENTY_TO_NINETY_MAP[10*e]),0<t&&a.push(ZERO_TO_NINETEEN_MAP[t])),a.push("and"===a[a.length-2]&&"one"===last(a)?"one-hundreth":"one-hundreths")):(0<e&&a.push(ZERO_TO_NINETEEN_MAP[e],"hundred"),t<2&&(0<t||0<o)?a.push(ZERO_TO_NINETEEN_MAP[10*t+o]):2<=t&&(a.push(TWENTY_TO_NINETY_MAP[10*t]),0<o&&a.push(ZERO_TO_NINETEEN_MAP[o]))),l!==s&&0!==n&&a.push(ILLIONS[s-l-1]),l+=1}),r&&2<u.length){var o=ILLIONS[Math.floor(i.length/3)-1];a.push("one-"+o+("and"===a[a.length-2]&&"one"===last(a)?"th":"ths"))}}}else a.push("zero")}}),o+a.join(" ")}exports.numberToWords=numberToWords;
